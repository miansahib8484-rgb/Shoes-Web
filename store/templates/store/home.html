{% extends 'store/base.html' %}
{% load static %}

{% block content %}

<section class="banner">
  <img src="{% static 'store/images/SHOES.jpg' %}" alt="Main Banner">
</section>

<section class="products">
  <h2>Trending Products</h2>

  <div class="nav-bar">
    <ul class="menu">
      <li><a href="{% url 'home' %}">NEW ARRIVAL</a></li>
      <li><a href="{% url 'men' %}">MEN</a></li>
      <li><a href="{% url 'women' %}">WOMEN</a></li>
      <li><a href="{% url 'flashsale' %}">FLASH SALE</a></li>
      <li><a href="{% url 'flipflops' %}">FLIP FLOP</a></li>
    </ul>
  </div>
<div class="product-grid">

{% if trending_products %}
  {% for product in trending_products|slice:":5" %}
    <div class="card">
      <a href="{% url 'product_detail' product.pk %}">
        {% if product.image %}
          <img src="{{ product.image.url }}" alt="{{ product.name }}">
        {% else %}
          <img src="{% static 'store/images/default-product.jpg' %}" alt="No Image Available">
        {% endif %}
      </a>

      <h3>
        <a href="{% url 'product_detail' product.pk %}" style="text-decoration: none; color: #222;">
          {{ product.name }}
        </a>
      </h3>

      <p>Rs {{ product.price }}</p>

      {% if product.size_list %}
        <div class="product-sizes">
          {% for s in product.size_list %}
            <a href="{% url 'filter_by_size' size=s %}" class="size-badge">{{ s }}</a>
          {% endfor %}
        </div>
      {% else %}
        <p class="no-size">Size Not Available</p>
      {% endif %}

      <a href="{% url 'product_detail' product.pk %}" class="add-cart-btn" style="display:inline-block; text-align:center;">
        Add to Cart
      </a>
    </div>
  {% endfor %}
{% else %}
  <p>No products available.</p>
{% endif %}
</div>
<a href="{% url 'trending_products' %}" class="view-all">
  View All Trending
</a>

<section class="shop-by-size">
  <h2>Shop by Size</h2>
  <div class="size-boxes">
    {% if sizes %}
      {% for s in sizes %}
        {% if category %}
          <a href="{% url 'filter_by_category_size' category=category size=s %}" class="size">{{ s }}</a>
        {% else %}
          <a href="{% url 'filter_by_size' size=s %}" class="size">{{ s }}</a>
        {% endif %}
      {% endfor %}
    {% else %}
      <p>No sizes available at the moment.</p>
    {% endif %}
  </div>
</section>


<section class="banner2">
  <img src="{% static 'store/images/category-banner-768x261.webp' %}" alt="Category Banner">
</section>
<section class="products">
  <h2>Top Selling Products</h2>
 <div class="product-grid">
    {% if top_products %}
      {% for product in top_products|slice:":5" %}
        <div class="card">
        
          <a href="{% url 'product_detail' product.pk %}">
            {% if product.image %}
              <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
              <img src="{% static 'store/images/default-product.jpg' %}" alt="No Image Available">
            {% endif %}
          </a>

        
          <h3>
            <a href="{% url 'product_detail' product.pk %}" style="text-decoration: none; color: #222;">
              {{ product.name }}
            </a>
          </h3>

          <!-- Product Price -->
          <p>Rs {{ product.price }}</p>

         
          {% if product.size_list %}
            <div class="product-sizes">
              {% for s in product.size_list %}
                <span class="size-badge">{{ s }}</span>
              {% endfor %}
            </div>
          {% else %}
            <p class="no-size">Size Not Available</p>
          {% endif %}

         
          <a href="{% url 'product_detail' product.pk %}" class="add-cart-btn" style="display:inline-block; text-align:center;">
            Add to Cart
          </a>
        </div>
      {% endfor %}
    {% else %}
      <p>No top selling products available.</p>
    {% endif %}
</div>
 <a href="{% url 'top_selling_products' %}" class="view-all">
  View All Top Selling
</a>


<section class="reviews">
  <h1>OUR HAPPY CUSTOMERS</h1>
  <p>Read what our satisfied customers have to say</p>

  <div class="reviews-cards-container">
    {% for i in "1234" %}
      <div class="reviews-card">
        <img src="{% static 'store/images/reviews.jpeg' %}" alt="Customer Review">
      </div>
    {% endfor %}
  </div>
</section>

{% endblock %}
